/*
 *	osgART/VideoTexCallback
 *	osgART: AR ToolKit for OpenSceneGraph
 *
 *	Copyright (c) 2005-2007 ARToolworks, Inc. All rights reserved.
 *	
 *	Rev		Date		Who		Changes
 *  1.0   	2006-12-08  ---     Version 1.0 release.
 *
 */
// @@OSGART_LICENSE_HEADER_BEGIN@@
// @@OSGART_LICENSE_HEADER_END@@

#ifndef OSGART_VIDEOTEXCALLBACK
#define OSGART_VIDEOTEXCALLBACK 1

// OSG include
#include <osg/Texture2D>

// local include
#include "osgART/Export"
#include "osgART/GenericVideo"
#include "osgART/VideoTextureBase"

namespace osgART {

	class OSGART_EXPORT VideoTexCallback : public osg::Texture2D::SubloadCallback {
	public:

		VideoTexCallback(VideoTextureBase* videotexture,
			int vw, int vh, int tw, int th);
		
		virtual void load(const osg::Texture2D& texture, osg::State& state) const;	
		virtual void subload(const osg::Texture2D& texture, osg::State& state) const;

	protected:

		int m_vidWidth;
		int m_vidHeight;
		int m_texWidth;
		int m_texHeight;
		
		GenericVideo* m_video;
		
	private:
	
		VideoTextureBase* m_videotexture;
	};
};

#endif
